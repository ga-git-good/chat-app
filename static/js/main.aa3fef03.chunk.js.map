{"version":3,"sources":["context/context.js","context/action-types.js","context/reducer.js","apiConfig.js","api/auth.js","components/auth/ChangePassword.js","shared/Modal.js","shared/DropDown.js","components/Header/Header.js","components/Main/MsgInput.js","shared/updateCache.js","components/Main/MessageJSX.js","components/Main/RoomTitle.js","api/CreateRoom.js","api/ShowRooms.js","api/GoOffline.js","api/ShowServerUsers.js","shared/ServerUser.js","api/addUser.js","shared/ServerUsersSideBar.js","shared/CreateRoomModal.js","api/messageHistory.js","components/Main/MainContent.js","components/auth/SignUp.js","components/auth/SignIn.js","components/auth/SignOut.js","App.js","index.js"],"names":["AppContext","createContext","SET_USERNAME","SET_USER_ID","SET_TOKEN","SET_SIGNEDIN","SET_ROOMS_ID","SAVE_STATE","SET_SERVER_USERS","ADD_CACHE","ALL_TYPES","state","action","type","payload","cachedPfps","userName","userId","token","loggedIn","rooms","serverUsers","shouldSaveState","apiUrls","apiUrl","window","location","hostname","uploadPfp","file","a","buffer","console","log","formData","FormData","append","options","method","body","fetch","signIn","credentials","axios","url","data","password","ChangePassword","closeModal","useContext","history","dispatch","useHistory","useState","oldPassword","setOldPassword","newPassword","setNewPassword","className","Form","Group","controlId","Label","Control","required","name","value","placeholder","onChange","e","target","Button","variant","onClick","passwords","headers","Authorization","old","new","changePassword","then","response","props","push","catch","error","to","Modale","title","show","setShow","handleClose","Modal","onHide","centered","Header","closeButton","Title","Body","path","render","DropDown","user","Dropdown","Toggle","Menu","Divider","authenticatedOptions","unauthenticatedOptions","MsgInput","received","room","messageText","setMessageText","socket","setSocket","connected","setConnected","setSocketAuthed","useEffect","io","withCredentials","query","on","res","alert","emit","roomId","onSubmit","event","preventDefault","msg","message","timestamp","Date","toLocaleString","updateCache","storage","sessionStorage","unCached","filter","some","id","_id","Promise","all","map","userObj","cacheObj","get","arrayBuffer","bufferToString","cachePairs","newCache","length","forEach","setItem","getPfp","getItem","prefix","binary","Uint8Array","byte","String","fromCharCode","btoa","timeStampStyle","color","Message","imgUrl","col","src","style","text","RoomTitle","createRoom","roomName","showRooms","goOffline","showServerUsers","ServerUser","status","add","addUserToRoom","ServerUserSideBar","currentRoom","serverUsersJSX","setServerUsersJSX","addUser","updateUsers","ShowServerUsers","usersArray","setInterval","ModaleCreateRoom","setRoomName","onCreateRoom","messageHistory","AlwaysScrollToBottom","elementRef","createRef","current","scrollIntoView","behavior","ref","MainContent","messages","setMessages","components","setComponents","newMessageObj","setNewMessageObj","roomsJSX","setRoomsJSX","setCurrentRoom","changedRoom","setChangedRoom","currentRoomName","setCurrentRoomName","changedRoomName","setChangedRoomName","result","messageObjs","sentAt","href","changeRoom","newArray","existingRooms","existingRoom","validUsers","includes","addEventListener","func","newArr","i","toString","Container","Row","Col","position","width","SignUp","email","setEmail","username","setUsername","setPassword","passConfirm","setPassConfirm","imageRef","onSignUp","files","split","pop","apiObj","passwordConfirmation","password_confirmation","pfpType","accept","multiple","SignIn","SignOut","signOut","finally","initialState","App","useReducer","reducer","Provider","component","appJsx","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.aa3fef03.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nconst AppContext = createContext()\n\nexport default AppContext\n","export const SET_USERNAME = 'SET_USERNAME'\nexport const SET_USER_ID = 'SET_USER_ID'\nexport const SET_TOKEN = 'SET_TOKEN'\nexport const SET_SIGNEDIN = 'SET_SIGNEDIN'\nexport const SET_ROOMS_ID = 'SET_ROOMS_ID'\nexport const SAVE_STATE = 'SET_STATE'\nexport const SET_SERVER_USERS = 'SET_SERVER_USERS'\n\n// don't include in ALL_TYPES\nexport const ADD_CACHE = 'ADD_CACHE'\n\nexport const ALL_TYPES = [\n    SET_USERNAME,\n    SET_USER_ID,\n    SET_TOKEN,\n    SET_SIGNEDIN,\n    SET_ROOMS_ID,\n    SET_SERVER_USERS,\n    SAVE_STATE,\n]","import {\n    SET_USERNAME,\n    SET_USER_ID,\n    SET_TOKEN,\n    SET_SIGNEDIN,\n    SET_ROOMS_ID,\n    SET_SERVER_USERS,\n    SAVE_STATE,\n    ADD_CACHE\n} from './action-types'\n\nexport default (state, action) => {\n    switch (action.type) {\n        case ADD_CACHE:\n            return action.payload === null\n                ? {...state, cachedPfps: []}\n                : {...state, cachedPfps: action.payload}\n        case SET_USERNAME:\n            return action.payload === null\n                ? {...state, userName: null}\n                : {...state, userName: action.payload}\n        case SET_USER_ID:\n            return action.payload === null\n                ? {...state, userId: null}\n                : {...state, userId: action.payload}\n        case SET_USER_ID:\n            return action.payload === null\n                ? {...state, userId: null}\n                : {...state, userId: action.payload}\n        case SET_TOKEN:\n            return action.payload === null\n                ? {...state, token: null}\n                : {...state, token: action.payload}\n        case SET_SIGNEDIN:\n            return action.payload === null\n                ? {...state, loggedIn: false}\n                : {...state, loggedIn: action.payload}\n        case SET_ROOMS_ID:\n            return action.payload === null\n                ? {...state, rooms: null}\n                : {...state, rooms: action.payload}\n        case SET_SERVER_USERS:\n            return action.payload === null\n                ? {...state, serverUsers: null}\n                : {...state, serverUsers: action.payload}\n        case SAVE_STATE:\n            return action.payload === null\n                ? {...state, shouldSaveState: false}\n                : {...state, shouldSaveState: action.payload}\n        default: \n          return state \n    }\n}","let apiUrl\nconst apiUrls = {\n\tproduction: 'https://gg-chat-api.herokuapp.com',\n\tdevelopment: 'http://localhost:3040',\n}\n\nif (window.location.hostname === 'localhost') {\n  apiUrl = apiUrls.development\n} else {\n  apiUrl = apiUrls.production\n}\n\nexport default apiUrl\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nexport const signUp = (credentials) => {\n  //console.log(credentials)\n  return axios({\n    method: 'POST',\n    url: apiUrl + '/sign-up/',\n    data: {\n      credentials: {\n        email: credentials.email,\n        password: credentials.password,\n        password_confirmation: credentials.passwordConfirmation,\n        userName: credentials.userName,\n        pfpType: credentials.pfpType\n      }\n    },\n  })\n}\n\nexport const uploadPfp = async (file, userName) => {\n  const buffer = file\n  console.log('buffer:')\n  console.log(buffer)\n  //console.log(buffer)\n  const formData = new FormData()\n\tformData.append('pfp', buffer)\n  const options = {\n\t\tmethod: 'POST',\n\t\tbody: formData,\n\t}\n  console.log(options)\n\treturn fetch(apiUrl + '/upload/' + userName, options)\n}\n\nexport const signIn = (credentials) => {\n  return axios({\n    url: apiUrl + '/sign-in/',\n    method: 'POST',\n    data: {\n      credentials: {\n        userName: credentials.userName,\n        password: credentials.password\n      }\n    }\n  })\n}\n\nexport const signOut = (token) => {\n  return axios({\n    url: apiUrl + '/sign-out/',\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n}\n\nexport const changePassword = (passwords, token) => {\n  console.log(passwords, token,\"Hello thereerer\");\n  return axios({\n    url: apiUrl + '/change-password/',\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      passwords: {\n        old: passwords.old,\n        new: passwords.new,\n      }\n    }\n  })\n}\n","import React, { useState, useContext } from 'react'\nimport AppContext from '../../context/context'\nimport { Redirect, useHistory } from 'react-router-dom'\n\nimport { changePassword } from '../../api/auth'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nconst ChangePassword = ({closeModal}) => {\n    const {state, dispatch} = useContext(AppContext)\n    const history = useHistory()\n    const { loggedIn, token } = state\n    const [oldPassword, setOldPassword] = useState('')\n    const [newPassword, setNewPassword] = useState('')\n\n    const onChangePassword = () => {\n\n        const passwords = {\n            old: oldPassword,\n            new: newPassword\n        }\n    changePassword(passwords, token)\n        .then((response) =>{\n        closeModal()\n        // put toast here\n        \n        console.log(props,  \"kaskdakddkadasndakdaksdkandakdsd\");\n        \n        })\n        .then(() => history.push('/'))\n        .catch((error) => {\n        setNewPassword('')\n        setOldPassword('')\n        //Failure toast here\n        \n        })\n    }\n\n    return (\n        !loggedIn ? <Redirect to='/' /> :\n        <div className='row changePass-parent-wrapper '>\n        <div className='changePass-form-wrapper'>\n            <Form className=\"changePass-form\" >\n            <Form.Group controlId='oldPassword'>\n                <Form.Label>Old password</Form.Label>\n                <Form.Control\n                required\n                name='oldPassword'\n                value={oldPassword}\n                type='password'\n                placeholder='Old Password'\n                onChange={(e) => setOldPassword(e.target.value)}\n                />\n            </Form.Group>\n            <Form.Group controlId='newPassword'>\n                <Form.Label>New Password</Form.Label>\n                <Form.Control\n                required\n                name='newPassword'\n                value={newPassword}\n                type='password'\n                placeholder='New Password'\n                onChange={(e) => setNewPassword(e.target.value)}\n                />\n            </Form.Group>\n            <Button variant='primary' type='button' onClick={onChangePassword}>Submit</Button>\n            </Form>\n        </div>\n        </div>\n    )\n}\n\nexport default ChangePassword\n","import React, { useState } from 'react'\nimport { Modal, Button } from 'react-bootstrap'\nimport { NavLink, Route } from 'react-router-dom'\nimport ChangePassword from '../components/auth/ChangePassword'\n\nconst Modale = ({title}) => {\n  const [show, setShow] = useState(false)\n\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n\n  return (\n    <>\n      <NavLink to='/change-password' className='nav-link' onClick={handleShow}>\n        Change Password\n      </NavLink>\n\n      <Modal show={show} onHide={handleClose} centered>\n        <Modal.Header closeButton>\n          <Modal.Title className='changePass-modal-title'>Change Password</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Route path='/change-password' render={() => <ChangePassword closeModal={handleClose} />} />\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default Modale\n","import React, { useState ,Fragment} from 'react'\nimport { NavLink, Route } from 'react-router-dom'\nimport { Dropdown, Modal } from 'react-bootstrap'\n\nimport Modale from './Modal'\nimport ChangePassword from '../components/auth/ChangePassword'\n\n\nconst DropDown = ({user}) => {\n  const [show, setShow] = useState(false)\n\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n\n  return (\n    <>\n    <Dropdown className='parent-dropdown-wrapper'>\n        <Dropdown.Toggle  className='dropdown-username'>\n          {user.userName}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu className='dropdown-menu' >\n          <NavLink to='/' className='nav-link'>\n            Upload image\n          </NavLink>\n\n          <Modale />\n\n\n          <Dropdown.Divider className='divider'/>\n          <NavLink to='/sign-out' className='nav-link'>\n            Sign Out\n          </NavLink>\n        </Dropdown.Menu>\n      </Dropdown>\n\n\n    \n    </>\n  )\n}\n\nexport default DropDown\n","import React, { Fragment, useContext } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport { Dropdown } from 'react-bootstrap'\n\nimport AppContext from '../../context/context'\nimport DropDown from '../../shared/DropDown'\n\nconst authenticatedOptions = (user) => {\n  return (\n    <>\n      <DropDown user={user}/>\n    </>\n  )\n}\n\nconst unauthenticatedOptions = (\n  <Fragment>\n    <NavLink to='/sign-in' className='link login'>\n      Login\n    </NavLink>\n    <NavLink to='/sign-up' className='link register'>\n      Register\n    </NavLink>\n  </Fragment>\n)\n\n// const alwaysOptions = (\n//   <Fragment>\n//     <NavLink exact to='/' className='nav-link'>Home</NavLink>\n//   </Fragment>\n// )\n\nconst Header = () => {\n  const { state, dispatch } = useContext(AppContext)\n  const user = state\n\n  return (\n    <div className='header-wrapper'>\n      <div className='logo-wrapper'>\n        <NavLink to='/' className='link'>\n          <span className='logo-text'>Chat APP</span>\n        </NavLink>\n      </div>\n\n      <div className='links-group-1'>\n        {user.loggedIn ? authenticatedOptions(user) : unauthenticatedOptions}\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import { io } from 'socket.io-client'\nimport React, { useState, useEffect, useHistory, useContext } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AppContext from \"../../context/context\";\nimport apiUrl from '../../apiConfig';\n\nconst MsgInput = ({received, room}) => {\n  const { state, dispatch } = useContext(AppContext)\n  const { loggedIn, userId, token, userName } = state\n\n  const [messageText, setMessageText] = useState('')\n  const [socket, setSocket] = useState(null)\n  const [connected, setConnected] = useState(false)\n  const [socketAuthed, setSocketAuthed] = useState(false)\n\n  // const receivedMessage = (msg) => {\n  //   received(msg)\n  //   console.log('received message')\n  //   console.log(msg)\n  // }\n\n  useEffect(() => {\n    if (connected) {\n      return\n    }\n    console.log('connecting socket')\n    const socket = io(apiUrl, {\n\t\t\twithCredentials: false,\n\t\t\tquery: {\n\t\t\t\ttoken:\n\t\t\t\t\ttoken,\n\t\t\t},\n\t\t})\n    socket.on('connect', () => {\n      console.log('connected!')\n    })\n    socket.on('loggedin', (res) => {\n      if (res) {\n        setSocketAuthed(true)\n        socket.on('message', received)\n      } else {\n        console.log('failed to log in')\n        alert('failed to log in')\n      }\n    })\n    setSocket(socket)\n    setConnected(true)\n\n  }, [])\n\n  // Join a room\n  // TODO\n  useEffect(() => {\n    console.log('seeing this pop up here as well', room)\n    if (room) {\n      socket.emit('join', { roomId: room })\n    }\n  }, [room])\n\n  const sendMessage = (event) => {\n    event.preventDefault()\n    if (!socket) {\n      return\n    }\n    const msg = {\n\t\t\tmessage: messageText,\n\t\t\troomId: room,\n\t\t\ttimestamp: new Date().toLocaleString(),\n      userName: userName\n\t\t}\n    socket.emit('send-message', msg)\n    console.log('sent message: ')\n    console.log(msg)\n    setMessageText('')\n  }\n\n  return (\n\t\t<>\n\t\t\t{room !== '' ? \n      \n        <form className='message-input-window' onSubmit={sendMessage}>\n          <input value={messageText} onChange={(e) => setMessageText(e.target.value)} className='message-input' />\n          <button type='submit' className='send-message'>Send</button>\n        </form>\n        \n       : '' }\n    </>\n\t\t\n\t)\n  // Version requiring auth:\n  // return loggedIn\n  //     ? (<Redirect to='/' />)\n  //     : (\n  //       <div>\n  //         <input value={roomName} onChange={(e) => setRoomName(e.target.value)} />\n  //         <button onClick={createRoom} />\n  //       </div>\n  //     )\n}\n\nexport default MsgInput","import apiUrl from \"../apiConfig\"\nimport { ADD_CACHE } from \"../context/action-types\"\n\nexport const updateCache = async (serverUsers, cachedPfps, dispatch) => {\n  const storage = window.sessionStorage\n  const unCached = serverUsers.filter(user => !cachedPfps.some(id => id !== user._id))\n  try {\n    const cachePairs = await Promise.all(\n\t\t\tunCached.map(async (userObj) => {\n\t\t\t\tconst cacheObj = { userName: userObj.userName }\n\t\t\t\tconst response = await fetch(apiUrl + '/img/' + userObj.userName)\n\t\t\t\tconst type = response.headers.get('Content-Type')\n\t\t\t\tconst data = await response.arrayBuffer()\n\t\t\t\tcacheObj.data = bufferToString(type, data)\n\t\t\t\treturn cacheObj\n\t\t\t})\n\t\t)\n    const newCache = cachedPfps.length === 0\n      ? []\n      : [...cachedPfps]\n\t\tcachePairs.forEach((cacheObj) => {\n\t\t\tstorage.setItem(cacheObj.userName, cacheObj.data)\n\t\t\tnewCache.push(cacheObj.userName)\n\t\t})\n    dispatch({\n      type: ADD_CACHE,\n      payload: newCache\n    })\n    return true\n  } catch(err) {\n    console.error(err)\n    return false\n  }\n}\n\nexport const getPfp = (userName) => {\n  const storage = window.sessionStorage\n  let data = storage.getItem(userName)\n  return data ? data : apiUrl + '/img/' + userName\n}\n\nconst bufferToString = (type, arrayBuffer) => {\n  const prefix = `data:${type};base64,`\n  let binary = ''\n  const bytes = new Uint8Array(arrayBuffer)\n  bytes.forEach(byte => binary += String.fromCharCode(byte))\n  return prefix + window.btoa(binary)\n}\n\n// export const testCache = async (userName) => {\n//   const result = await fetch(apiUrl + '/img/' + userName)\n//   console.log('result headers:')\n//   console.log(result.headers)\n//   const buffer = await result.arrayBuffer()\n//   console.log(buffer)\n//   console.log('type:')\n//   const type = result.headers.get('Content-Type')\n//   console.log(type)\n//   const binary = bufferToString(type, buffer)\n//   console.log(binary)\n// }","import React from 'react'\nimport apiUrl from '../../apiConfig'\nimport { getPfp } from '../../shared/updateCache'\n\nconst timeStampStyle = {\n\tcolor: 'rgba(123, 115, 115, .85)',\n}\n\nconst Message = (props) => {\n\tconsole.log('imgurl:')\n\tconst imgUrl = apiUrl + '/img/' + props.userName\n\tconsole.log(imgUrl)\n  return (\n\t\t<div className='message-layout'>\n\t\t\t<img col='1' className='userImage' src={getPfp(props.userName)} />\n\t\t\t<li col='2'>\n\t\t\t\t<strong>{props.userName}</strong> <a style={timeStampStyle}>{props.timestamp}</a>:\n\t\t\t\t<br />\n\t\t\t\t<section className='message-text'>{props.text}</section>\n\t\t\t\t{/* <a>\n\t\t\t\t\t<i className='fab fa-thumbs-up'></i>\n\t\t\t\t</a>\n\t\t\t\t<a>\n\t\t\t\t\t<i className='fab fa-thumbs-down'></i>\n\t\t\t\t</a>\n\t\t\t\t<a>\n\t\t\t\t\t<i className='fab fa-smile'></i>\n\t\t\t\t</a>\n\t\t\t\t<a>\n\t\t\t\t\t<i className='fab fa-heart'></i>\n\t\t\t\t</a>\n\t\t\t\t<a>\n\t\t\t\t\t<i className='fab fa-sad-tear'></i>\n\t\t\t\t</a> */}\n\t\t\t</li>\n\t\t</div>\n\t)\n}\n\n\nexport default Message","import React, { useEffect } from 'react'\n\nconst RoomTitle = ({ room }) => {\n\n  useEffect(() => {\n    console.log('in room: ', room)\n  }, [room])\n\n  return (\n    <>\n      {room ? \n        <h3 className='room-title'>{room}</h3>\n        :\n        ''\n      }\n    </>\n  )\n}\n\nexport default RoomTitle\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n// import React, { useContext } from 'react'\n// import AppContext from '../context/context'\n\nconst createRoom = (roomName, id, token) => {\n  return axios({\n    method: 'POST',\n    url: apiUrl + '/create-room',\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    data: {\n      room: {\n        name: roomName\n      },\n      userId: id\n    }\n  })\n}\n\nexport default createRoom\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nconst showRooms = (token) => {\n  return axios({\n    method: 'GET',\n    url: apiUrl + '/show-rooms',\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n}\n\nexport default showRooms\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nconst goOffline = (token) => {\n  return axios({\n    method: 'DELETE',\n    url: apiUrl + '/go-offline',\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n  })\n}\n\nexport default goOffline\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nconst showServerUsers = (token) => {\n  return axios({\n    method: 'GET',\n    url: apiUrl + '/show-server-users',\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  })\n}\n\nexport default showServerUsers\n","import React, { useEffect } from 'react'\nimport apiUrl from '../apiConfig'\nimport { getPfp } from './updateCache'\n\n\nconst ServerUser = ({ name, status, add, userId }) => {\n  const imgUrl = apiUrl + '/img/' + name\n  useEffect(() => {\n    \n  }, [status])\n\n  return (\n\t\t<>\n\t\t\t<img col='1' className='user-image' src={getPfp(name)}></img>\n\n\t\t\t<span className='user-name'>{name}</span>\n\t\t\t<img\n\t\t\t\tsrc={'https://icongr.am/octicons/plus.svg?size=16&color=b3b3b3'}\n\t\t\t\tonClick={() => add(userId)}\n\t\t\t/>\n\t\t\t<span className='user-status'>\n\t\t\t\t{status === 'online' ? (\n\t\t\t\t\t<img src='https://icongr.am/octicons/rss.svg?size=16&color=36ba38' />\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</span>\n\t\t</>\n\t)\n}\n\nexport default ServerUser ","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n// import React, { useContext } from 'react'\n// import AppContext from '../context/context'\n\nconst addUserToRoom = (roomId, userId, token) => {\n\treturn axios({\n\t\tmethod: 'POST',\n\t\turl: apiUrl + '/add-user-to-room',\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${token}`,\n\t\t},\n\t\tdata: {\n\t\t\troomId: roomId,\n\t\t\tuserId: userId,\n\t\t},\n\t})\n}\n\nexport default addUserToRoom\n","import React, { useEffect, useState, useContext } from 'react'\nimport AppContext from '../context/context'\nimport { SET_SERVER_USERS } from '../context/action-types'\nimport ShowServerUsers from '../api/ShowServerUsers'\nimport ServerUser from './ServerUser'\nimport addUserToRoom from '../api/addUser'\n\nconst ServerUserSideBar = ({currentRoom}) => {\n  const { state, dispatch } = useContext(AppContext)\n  const { serverUsers, token } = state\n  const [serverUsersJSX, setServerUsersJSX] = useState(null)\n\n  // useEffect(async () => {\n  //   let usersArray\n  //   const response = await ShowServerUsers(token)\n  //   console.log('users array : ', response.data.user)\n  //   usersArray = response.data.user\n  //   await dispatch({\n  //     type: SET_SERVER_USERS,\n  //     payload: usersArray\n  //   })\n    \n    \n  // }, []);\n\n  const addUser = (userId) => {\n    console.log(`adding user ${userId} to room ${currentRoom}`)\n    addUserToRoom(currentRoom, userId, token)\n  }\n\n  const updateUsers = async () => {\n    // console.log('updating users...')\n    let usersArray\n    const response = await ShowServerUsers(token)\n    // console.log('users array : ', response.data.user)\n    usersArray = response.data.user\n    await dispatch({\n      type: SET_SERVER_USERS,\n      payload: usersArray\n    })\n  }\n\n  useEffect(() => {\n    setInterval(updateUsers, 5000)\n  }, [])\n\n  useEffect(async () => {\n    console.log('server users: ', serverUsers)\n    if (serverUsers) {\n      setServerUsersJSX(serverUsers.map(user => (\n        <li key={user._id} className='user-list-item'>\n          <ServerUser name={user.userName} userId={user._id} add={addUser} status={user.status} />\n        </li>\n      )))\n    }\n  }, [serverUsers])\n\n  return (\n      <ul className='user-list'>\n        {serverUsersJSX}\n      </ul>\n  )\n}\n\nexport default ServerUserSideBar","import React, { useState } from 'react'\nimport { Modal, Button, Form } from 'react-bootstrap'\n// {setRoomName, onCreateRoom, roomName }\n\nconst ModaleCreateRoom = ({setRoomName, onCreateRoom, roomName }) => {\n  console.log(\"props\", \"sasasaddsdasdasdsad mainContent\");\n  const [show, setShow] = useState(false)\n\n  const handleClose = () => setShow(false)\n  const handleShow = () => setShow(true)\n\n  return (\n    <>\n        <Button className='create-room-button' onClick={handleShow}>\n            <span className='create-room-span'>+</span>\n        </Button>\n      <Modal show={show} onHide={handleClose} centered>\n        <Modal.Header closeButton>\n          <Modal.Title className='createRoom-modal-title'>Create Room</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form onSubmit={(event)=> onCreateRoom(event,handleClose) }>\n            <Form.Group controlId='room-name'>\n              <Form.Control\n                required\n                type='room-name'\n                name='create-room'\n                value={roomName}\n                placeholder='Enter Room Name'\n                onChange={(e) => setRoomName(e.target.value)}\n              />\n              <button type='submit' className='create-button'>Create</button>\n            </Form.Group>\n          </Form>\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default ModaleCreateRoom\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nconst messageHistory = async (token, roomId) => {\n\tconst response = await axios({\n\t\tmethod: 'GET',\n\t\turl: apiUrl + '/room/' + roomId,\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${token}`,\n\t\t},\n\t})\n  if (response.data.length === 0) {\n    return null\n  }\n  return response.data\n}\n\nexport default messageHistory\n","import React, { useContext, useEffect, useState, createRef } from 'react' \nimport { Link } from 'react-router-dom'\nimport AppContext from '../../context/context'\nimport { Container, Row, Col, Form, DropdownButton, ButtonGroup, Button } from 'react-bootstrap'\nimport Input from './MsgInput'\nimport Message from './MessageJSX'\nimport RoomTitle from './RoomTitle'\nimport createRoom from '../../api/CreateRoom'\nimport showRooms from '../../api/ShowRooms'\nimport showRoomUsers from '../../api/ShowRoomUsers'\nimport goOffline from '../../api/GoOffline'\nimport { SET_ROOMS_ID } from '../../context/action-types'\nimport ServerUserSideBar from '../../shared/ServerUsersSideBar'\nimport ModaleCreateRoom from '../../shared/CreateRoomModal'\nimport { updateCache, getPfp } from '../../shared/updateCache'\nimport messageHistory from '../../api/messageHistory'\n\nconst AlwaysScrollToBottom = () => {\n\tconst elementRef = createRef()\n\tuseEffect(() => elementRef.current.scrollIntoView({behavior: 'smooth'}))\n\treturn <div ref={elementRef} />\n}\n\nconst MainContent = () => {\n  console.log('maincontent reloaded')\n  const { state, dispatch } = useContext(AppContext)\n\n  const [messages, setMessages] = useState([])\n  const [components, setComponents] = useState([])\n  const [newMessageObj, setNewMessageObj] = useState(null)\n  const [roomName, setRoomName] = useState('')\n  const { rooms, userId, token, serverUsers, cachedPfps } = state\n  const [roomsJSX, setRoomsJSX] = useState(null)\n  const [roomUsersJSX, setRoomUsersJSX] = useState(null)\n  const [currentRoom, setCurrentRoom] = useState('')\n  const [changedRoom, setChangedRoom] = useState('')\n  const [currentRoomName, setCurrentRoomName] = useState('')\n  const [changedRoomName, setChangedRoomName] = useState('')\n  //const [updatedCache, setUpdatedCache] = useState(true)\n\n  // useEffect(() => {\n  //   updateCache(serverUsers, cachedPfps, dispatch)\n  // }, [serverUsers])\n\n  useEffect(() => {\n    // console.log('fetching pfps')\n    // console.log('already cached userNames:')\n    // console.log(cachedPfps)\n    if (!serverUsers || serverUsers.length === 0) {\n      return\n    }\n    // console.log('serverUsers:')\n    // console.log(serverUsers)\n    // console.log('cached pfps:')\n    // console.log(cachedPfps)\n    updateCache(serverUsers, cachedPfps, dispatch).then(\n\t\t\t(result) => {\n\t\t\t\tif (result) {\n\t\t\t\t\t//console.log(getPfp('12345'))\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('failed to cache images')\n\t\t\t\t}\n\t\t\t}\n\t\t)\n  }, [serverUsers])\n\n  const changeRoom = (roomId, roomName) => {\n    console.log('changing room to: ', roomId)\n    setChangedRoom(roomId)\n    setChangedRoomName(roomName)\n  }\n\n  const showActiveUsers = async () => {\n      let usersArray\n      const response = await showRoomUsers(token, currentRoom)\n      usersArray = response.data.user\n      return usersArray\n  }\n\n  useEffect(() => {\n    //console.log('room has been changed')\n    if (changedRoom === currentRoom) {\n      return\n    } else {\n      //console.log('changed room: ', changedRoom)\n      setMessages([])\n      setCurrentRoom(changedRoom)\n      setCurrentRoomName(changedRoomName)\n      // showActiveUsers()\n      //   .then(usersArray => {\n      //     setRoomUsersJSX(usersArray.map(user => (\n      //       <li>{`${ user.name }`}</li>\n      //     )))})\n    }\n  }, [changedRoom])\n\n  useEffect(() => {\n    messageHistory(token, currentRoom)\n    .then(response => {\n      console.log('MESSAGE HISTORY')\n      if (!response) {\n        return\n      }\n      const messageObjs = response.map(message => ({\n        userName: message.userName,\n        timestamp: message.sentAt,\n        message: message.text\n      }))\n      console.log('FETCHED HISTORY')\n      console.log(messageObjs)\n      setMessages(messageObjs)\n    })\n  }, [currentRoom])\n\n  useEffect(() => {\n    if (rooms) {\n      console.log(rooms)\n      setRoomsJSX(rooms.map(room => (\n        <li key={`${room._id}`}>\n          <a href='#' onClick={() => changeRoom(room._id, room.name)}>{`${room.name}`}</a>\n        </li>\n      )))\n    }\n  }, [rooms])\n\n  useEffect(async () => {\n    let newArray = []\n    const response = await showRooms(token)\n    const existingRooms = response.data.room\n    //console.log('existing rooms: ', existingRooms, 'saved rooms: ', rooms)\n    if (!rooms || !rooms[0]) {\n      existingRooms.forEach(existingRoom => {\n        if (existingRoom.validUsers.includes(userId)) {\n          newArray.push(existingRoom)\n        }\n      })\n      // setCurrentRoom(newArray[0]._id)\n    }\n    console.log(newArray)\n    dispatch({\n      type: SET_ROOMS_ID,\n      payload: newArray\n    })\n    window.addEventListener(\"beforeunload\", () => {\n      goOffline(token, userId)\n    }, false);\n  }, [])\n\n  const onCreateRoom = async (event, func) => {\n    event.preventDefault()\n    let newArray = []\n    console.log(roomName, state.userId)\n    const room = await createRoom(roomName, userId, token)\n    if (rooms.length > 0) {\n        func()\n\n      newArray = [...rooms]\n      newArray.push(room.data.room)\n    } else {\n      newArray = [room.data.room]\n    }\n    dispatch({\n      type: SET_ROOMS_ID,\n      payload: newArray\n    })\n    // state.rooms.push(room.data.room)\n    console.log(room)\n\n    \n  }\n\n  const newMessage = (msg) => {\n    console.log('setting new msg')\n    console.log(msg)\n    setNewMessageObj(msg)\n  }\n\n  useEffect(() => {\n    console.log('hit new message useeffect')\n    if (!newMessageObj) {\n      return\n    }\n    const newArr = [...messages]\n    newArr.push(newMessageObj)\n    setMessages(newArr)\n    setNewMessageObj(null)\n  }, [newMessageObj])\n\n  useEffect(() => {\n    setComponents(messages.map((message, i) => (\n      <Message \n        userName={message.userName}\n        timestamp={message.timestamp}\n        text={message.message}\n        key={message.userName + i.toString()}\n      />\n    )))\n  }, [messages])\n\n  return (\n\t\t<Container className='main-container'>\n\t\t\t{/* Second row - will contain rooms/DMs as well as main content */}\n\t\t\t<Row className='top-row'>\n\t\t\t\t<Col className='col-3 left-side-options'>\n\t\t\t\t\t<div className='left-side-nav'>\n\t\t\t\t\t\t<Row >\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<div style={{ position: 'fixed'}}>\n\t\t\t\t\t\t\t\t\t<h4 className='roomsHeader' style={{width: \"20vw\"}}>\n\t\t\t\t\t\t\t\t\t\tRooms\n\t\t\t\t\t\t\t\t\t</h4>\n\n\n                  <ModaleCreateRoom\n\t\t\t\t\t\t\t\t\t\t\tonCreateRoom={onCreateRoom}\n\t\t\t\t\t\t\t\t\t\t\troomName={roomName}\n\t\t\t\t\t\t\t\t\t\t\tsetRoomName={setRoomName}\n\t\t\t\t\t\t\t\t\t/>\n\n                  \n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* <Button className='create-room-button m-3'> Create Room</Button> */}\n\n\t\t\t\t\t\t\t\t{/* <Dropdown.Item eventKey='1' as='form' > */}\n\n\t\t\t\t\t\t\t\t{/* <Form onSubmit={onCreateRoom} className='d-none'>\n                      <Form.Group controlId='room-name'>\n                        <Form.Control \n                        required\n                        type='room-name' \n                        name='create-room'\n                        value={roomName}\n                        placeholder='Enter Room Name'\n                        onChange={(e) => setRoomName(e.target.value)} \n                        />\n                        <button type='submit'>Create</button>\n                      </Form.Group>\n                  </Form> */}\n\n\n\n                 \n                {/* </Dropdown.Item> */}\n              \n              </Col>\n            </Row>\n\n           \n\n            <Row>\n              {/* TODO: Make this into its own component */}\n              <section className='open-rooms'>\n                <ul className='room-list'>\n                  {roomsJSX}\n                </ul>\n              </section>\n            </Row>\n          </div>\n          {/* Ayoub this is your spot to add active users */}\n            <Row className='active-users'>\n                <h4 className='roomsHeader'>Users</h4>\n                <ServerUserSideBar currentRoom={currentRoom} />\n            </Row>\n        </Col>\n        <Col className='main-content col-9'>\n          <Row>\n            <RoomTitle room={currentRoomName} />\n          </Row>\n            <section className='messages-window'>\n              <ul className='messages'>\n                {currentRoom ? components : 'No room selected. Please join a room to start a conversation!'}\n                <AlwaysScrollToBottom />\n              </ul>\n            </section>\n            <Input received={newMessage} room={currentRoom} />\n            {/* <form className='message-input-window'>\n              <input className='message-input' />\n              <button className='send-message'>Send</button>\n            </form> */}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n\nexport default MainContent\n","import React, { useState, useContext, createRef } from 'react'\nimport { Redirect, withRouter } from 'react-router-dom'\nimport AppContext from '../../context/context'\nimport { SET_TOKEN, SET_USER_ID } from '../../context/action-types'\nimport { useHistory } from 'react-router-dom'\n\nimport { signUp, signIn, uploadPfp } from '../../api/auth'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nconst imgConfig = {\n\tquality: 0.2,\n\tmaxWidth: 800,\n\tmaxHeight: 600,\n\tautoRotate: true,\n}\n\nconst SignUp = () => {\n    const { state, dispatch } = useContext(AppContext)\n    const { loggedIn } = state\n    const history = useHistory()\n    const [email, setEmail] = useState('')\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [passConfirm, setPassConfirm] = useState('')\n    const imageRef = createRef()\n\n    const onSignUp = async (e) => {\n        e.preventDefault()\n        console.log(imageRef.current)\n        console.log(imageRef.current.files)\n        //let resizedImage = await readAndCompressImage(imageRef.current.files[0], imgConfig)\n        // const data = new FormData(e.target)\n        const file = imageRef.current.files[0]\n        const type = file.name.split('.').pop()\n        console.log(type)\n        const apiObj = {\n            email: email,\n            userName: username,\n            password: password,\n            passwordConfirmation: passConfirm,\n        }\n        signUp(apiObj)\n            .then(() => signIn(apiObj))\n            .then((res) => {\n                uploadPfp(imageRef.current.files[0], res.data.user.userName)\n                dispatch({\n                    type: SET_USER_ID,\n                    payload: res.data.user._id\n                })\n                dispatch({\n                    type: SET_TOKEN,\n                    payload: res.data.user.token\n                })\n            })\n            .then(() =>{\n                // success toast here\n            })\n            .then(() => history.push('/'))\n            .catch((error) => {\n                setEmail('')\n                setUsername('')\n                setPassword('')\n                setPassConfirm('')\n                // toast error here\n            })\n        }\n\n    return loggedIn ? (\n\t\t\t<Redirect to='/' />\n\t\t) : (\n\t\t\t<div className='row signup-parent-wrapper'>\n\t\t\t\t<div className='signup-form-wrapper'>\n\t\t\t\t\t<h3 className='signup-header3'>Sign Up</h3>\n\t\t\t\t\t<Form className='signup-form' onSubmit={onSignUp}>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Email address</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\tplaceholder='Enter email'\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\ttype='username'\n\t\t\t\t\t\t\t\tname='username'\n\t\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\t\tplaceholder='Enter username'\n\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Password Confirmation</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tname='passwordConfirmation'\n\t\t\t\t\t\t\t\tvalue={passConfirm}\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tplaceholder='Confirm Password'\n\t\t\t\t\t\t\t\tonChange={(e) => setPassConfirm(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t<Form.Label>Profile Picture</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\t\tid='imagePicker'\n\t\t\t\t\t\t\t\taccept='image/*'\n\t\t\t\t\t\t\t\tmultiple={false}\n\t\t\t\t\t\t\t\t//onChange={(e) => imagePicker(e)}\n\t\t\t\t\t\t\t\tref={imageRef}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Button variant='primary' type='submit'>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n}\n\nexport default SignUp\n","import React, { useContext, useState } from 'react'\nimport { Redirect, useHistory } from 'react-router-dom'\nimport AppContext from '../../context/context'\n\nimport { toast } from 'react-toastify'\nimport { SET_TOKEN, SET_USER_ID, SET_SIGNEDIN, SET_USERNAME, SET_ROOMS_ID } from '../../context/action-types'\nimport { signIn } from '../../api/auth'\nimport { Form, Button } from 'react-bootstrap'\n\n\nconst SignIn = () => {\n    const { state, dispatch } = useContext(AppContext)\n    const { loggedIn } = state\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const onSignIn = (event) => {\n      event.preventDefault()\n\n      const signInObj = {\n          userName: username,\n          password: password\n      }\n\n      signIn(signInObj)\n        .then((res) => {\n            // console.log('login response: ')\n            // console.log(res.data, 'state: ', state)\n            dispatch({\n                type: SET_USER_ID,\n                payload: res.data.user._id\n            })\n            dispatch({\n                type: SET_TOKEN,\n                payload: res.data.user.token\n            })\n            dispatch({\n                type: SET_SIGNEDIN,\n                payload: true\n            })\n            dispatch({\n                type: SET_USERNAME,\n                payload: res.data.user.userName\n            })\n            dispatch({\n                type: SET_ROOMS_ID,\n                payload: res.data.user.rooms\n            })\n        })\n        .then(() =>{\n          // toast alert here\n        })\n        .then(() => history.push('/'))\n        .catch((error) => {\n          setUsername('')\n          setPassword('')\n          //error toast here\n        })\n    }\n\n\n  return (\n      loggedIn ? <Redirect to='/' /> :\n    <div className='row signin-parent-wrapper'>\n      <div className='signin-form-wrapper'>\n        <h3 className=\"signin-header3\">Login</h3>\n        <Form onSubmit={onSignIn} className=\"signin-form\">\n          <Form.Group controlId='username'>\n            <Form.Label className=\"label-username\">Username</Form.Label>\n            <Form.Control\n              required\n              type='username'\n              name='username'\n              value={username}\n              placeholder='Enter username'\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Form.Group>\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name='password'\n              value={password}\n              type='password'\n              placeholder='Password'\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n\nexport default SignIn\n","import { useContext, useEffect } from 'react'\nimport { useHistory, Redirect } from 'react-router-dom'\nimport AppContext from '../../context/context'\nimport { ALL_TYPES } from '../../context/action-types'\nimport { signOut } from '../../api/auth'\n\n\nconst SignOut = () => {\n    const { state, dispatch } = useContext(AppContext)\n    const history = useHistory()\n    const { loggedIn, token } = state\n\n    useEffect(() => {\n        if (!loggedIn) {\n            return\n        }\n        signOut(token)\n            .finally(() => {\n                // success toast here\n            })\n            .finally(() => {\n                ALL_TYPES.forEach((type) => {\n                    console.log(type)\n                    dispatch({\n                        type: type,\n                        payload: null,\n                    })\n                })\n            })\n            .finally(() => history.push('/'))\n    }, [])\n\n    return !loggedIn ? <Redirect to='/' /> : null\n}\n\nexport default SignOut\n","import React, { useEffect, useReducer } from 'react'\nimport { Route } from 'react-router-dom'\nimport AppContext from './context/context'\nimport reducer from './context/reducer'\n\nimport Header from './components/Header/Header'\nimport MainContent from './components/Main/MainContent'\nimport SignUp from './components/auth/SignUp'\nimport SignIn from './components/auth/SignIn'\nimport SignOut from './components/auth/SignOut'\nimport ChangePassword from './components/auth/ChangePassword'\n\n\nconst initialState = {\n    loggedIn: false,\n    userId: null,\n\t\tuserName: null,\n    token: null,\n    shouldSaveState: false,\n\t\tuserName: null,\n\t\trooms: [],\n\t\tserverUsers: [],\n\t\tcachedPfps: []\n}\n\nconst App = () => {\n    const [state, dispatch] = useReducer(reducer, initialState)\n\t\t\n    return (\n\t\t\t\t<AppContext.Provider value={{ state, dispatch }}>\n\t\t\t\t\t<Header />\n\t\t\t\t\t<main className='container'>\n\t\t\t\t\t\t<Route path='/sign-up' component={SignUp} />\n\t\t\t\t\t\t<Route path='/sign-in' component={SignIn} />\n\t\t\t\t\t\t<Route path='/sign-out' component={SignOut} />\n            {/* Change Password is running in shared/Modal component */}\n\t\t\t\t\t</main>\n\t\t\t\t\t{state.loggedIn ? <MainContent /> : ''}\n\t\t\t\t\t\n\t\t\t\t</AppContext.Provider>\n\t\t)\n  }\n\n\nexport default App\n\n// add bill and hanif","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\n\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst appJsx = (\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n)\n\nReactDOM.render(appJsx, document.getElementById('root'))\n"],"sourceRoot":""}